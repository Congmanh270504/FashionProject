<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon" />
    <title>F A S H I O N </title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <link rel="stylesheet" href="./cart.css" />
</head>

<body>

    <div class="header">
        <a href="../main/index.html"><img src="/favicon/favicon-32x32.png" alt="" class="logo" /></a>
        <div class="main-navbar" data-animation="feature">

            <ul id="navbar">
                <li class="search">
                    <input type="text">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </li>
                <li><a href="../main/index.html">Home</a></li>
                <li>
                    <a href="../shop/shop.html">Shop</a>
                </li>
                <li>
                    <a href="../blog/blog.html">Blog</a>
                </li>
                <li>
                    <a href="../aboutus/about.html">About
                        us</a>
                </li>
                <li>
                    <a href="../contact/contact.html ">Contact</a>
                </li>
                <li id="lg-bag">
                    <a href="../cart/cart.html">
                        <svg style="width: 16px;height: 16px;" version="1.0" xmlns="http://www.w3.org/2000/svg"
                            width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000">
                            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000"
                                stroke="none">
                                <path d="M2380 4835 c-175 -36 -312 -108 -444 -234 -185 -177 -271 -381 -283
                            -668 l-6 -143 -298 0 c-180 0 -319 -4 -351 -11 -152 -32 -264 -144 -297 -297
                            -15 -70 -16 -2824 -1 -2902 23 -122 100 -224 209 -278 l56 -27 1595 0 1595 0
                            57 28 c109 54 185 154 208 277 15 77 14 2832 -1 2902 -32 152 -144 264 -297
                            297 -32 7 -168 11 -351 11 l-298 0 -6 143 c-12 287 -98 491 -283 668 -136 129
                            -287 206 -468 238 -80 15 -256 12 -336 -4z m319 -320 c199 -47 371 -215 427
                            -415 8 -30 18 -112 21 -182 l6 -128 -593 0 -593 0 6 128 c3 70 13 152 21 182
                            56 200 226 367 424 414 76 19 203 19 281 1z m-1047 -1202 c3 -145 5 -161 27
                            -196 61 -99 193 -101 265 -3 19 24 22 46 26 189 l5 162 585 0 585 0 5 -162 c4
                            -143 7 -165 26 -189 72 -98 204 -96 265 3 22 35 24 51 27 196 l4 157 299 0
                            c286 0 300 -1 319 -20 20 -20 20 -33 20 -1418 0 -1249 -2 -1400 -16 -1420
                            l-15 -22 -1519 0 -1519 0 -15 22 c-14 20 -16 171 -16 1420 0 1385 0 1398 20
                            1418 19 19 33 20 319 20 l299 0 4 -157z" />
                            </g>
                        </svg>
                    </a>
                </li>
                <li>
                    <a href="../Sign/signIn.html">
                      <i class="fa-regular fa-user"></i>
                    </a>
                  </li>
                <a href="#" id="close"><i class="fa-solid fa-x"></i></a>
            </ul>
        </div>
        <div class="mobile">
            <!-- 3 que  -->
            <a href="../cart/cart.html">
                <svg style="width: 16px;height: 16px;" version="1.0" xmlns="http://www.w3.org/2000/svg"
                    width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000">
                    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000"
                        stroke="none">
                        <path d="M2380 4835 c-175 -36 -312 -108 -444 -234 -185 -177 -271 -381 -283
                    -668 l-6 -143 -298 0 c-180 0 -319 -4 -351 -11 -152 -32 -264 -144 -297 -297
                    -15 -70 -16 -2824 -1 -2902 23 -122 100 -224 209 -278 l56 -27 1595 0 1595 0
                    57 28 c109 54 185 154 208 277 15 77 14 2832 -1 2902 -32 152 -144 264 -297
                    297 -32 7 -168 11 -351 11 l-298 0 -6 143 c-12 287 -98 491 -283 668 -136 129
                    -287 206 -468 238 -80 15 -256 12 -336 -4z m319 -320 c199 -47 371 -215 427
                    -415 8 -30 18 -112 21 -182 l6 -128 -593 0 -593 0 6 128 c3 70 13 152 21 182
                    56 200 226 367 424 414 76 19 203 19 281 1z m-1047 -1202 c3 -145 5 -161 27
                    -196 61 -99 193 -101 265 -3 19 24 22 46 26 189 l5 162 585 0 585 0 5 -162 c4
                    -143 7 -165 26 -189 72 -98 204 -96 265 3 22 35 24 51 27 196 l4 157 299 0
                    c286 0 300 -1 319 -20 20 -20 20 -33 20 -1418 0 -1249 -2 -1400 -16 -1420
                    l-15 -22 -1519 0 -1519 0 -15 22 c-14 20 -16 171 -16 1420 0 1385 0 1398 20
                    1418 19 19 33 20 319 20 l299 0 4 -157z" />
                    </g>
                </svg>
            </a>
            <!-- X -->
            <i class="fa-solid fa-bars" id="bar"></i>
        </div>
    </div>

    <div class="hero">
        <h2>#Your Cart</h2>
        <p>Cart</p>
    </div>

    <div id="cart" class="section-p1">
        <table width="100%">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Img</td>
                    <td>Product</td>
                    <td>Size</td>
                    <td>Color</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Subtotal</td>
                </tr>
            </thead>
            <tbody class="main-cart">

            </tbody>
        </table>
    </div>
    <div id="cart-add" class="section-p1">
        <div class="coupon">
            <h3>Apply Voucher</h3>
            <div class="link-cupton">
                <input type="text" placeholder="Enter your Voucher" class="voucher">
                <button class="normal voucher-btn">Apply</button>
            </div>
        </div>
        <div class="subtotal">
            <h3>Cart Total</h3>
            <table>
                <tr>
                    <td>
                        Cart Subtotal
                    </td>
                    <td class="cart-subtotal">

                    </td>
                </tr>
                <tr>
                    <td>
                        Shipping
                    </td>
                    <td class="ship"></td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong class="total"></strong></td>
                </tr>
            </table>
            <button class="normal">
                Proceed to checkout
            </button>
        </div>
    </div>
    <footer class="section-p1">
        <div class="col">
            <img src="/favicon/favicon-32x32.png" alt="" class="logo">
            <h4>Contact </h4>
            <p><strong>Address:</strong> 562 Wellington Road, Street 32. San Francisco</p>
            <p><strong>Phone:</strong> +01 2222 365/(+91) O1 2345 6789</p>
            <p><strong>Hours:</strong> 10:00-18:00, Mon - Sat</p>
            <div class="follow">
                <h4>Follow us</h4>
                <div class="icon">
                    <i class="fa-brands fa-facebook"></i>
                    <i class="fa-brands fa-instagram"></i>
                    <i class="fa-brands fa-tiktok"></i>
                    <i class="fa-brands fa-github"></i>
                </div>
            </div>
        </div>
        <div class="col">
            <h4>About</h4>
            <a href="#">About us</a>
            <a href="#">Delivery Information</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms & Conditions</a>
            <a href="#">Contact Us</a>
        </div>
        <div class="col">
            <h4>My Account</h4>
            <a href="../Sign/signIn.html">Sign In</a>
            <a href="#">View Cart</a>
            <a href="#">Help</a>
        </div>
        <div class="col install">
            <h4>Install App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <a href="https://play.google.com/store/games?hl=vi&gl=US&pli=1">
                    <img src="../img/pay/app.jpg" alt="">
                </a>
                <a href="https://www.apple.com/vn/app-store/">
                    <img src="../img/pay/play.jpg" alt="">
                </a>
            </div>
            <p>Secured Payment Gateways</p>
            <img src="../img/pay/pay.png" alt="">
        </div>
    </footer>
    <div class="section-p1 copyright">
        <p>Website created by Edward && Thomas 2024</p>
    </div>
    <div id="scollbutton" onclick="scollToTop()">
        <button class="normal">
            <i class="fa-solid fa-arrow-up" title="Go to top"></i>
        </button>
    </div>
    </div>
    <!-- 1:37:19 -->
    <script>
        window.onscroll = () => {
            scroll();
        };
        function scroll() {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollbutton.style.display = "block";
            }
            else {
                scrollbutton.style.display = "none";
            }
        }
        function scollToTop() {

            window.scrollTo(0, 0);

        }

    </script>

    <script>
        window.onload = loadCart;
        function loadCart(e) {
            const maincart = document.querySelector(".main-cart");
            var currentSession = JSON.parse(localStorage.getItem("cart")) || { cart: [] };
            var cart = "";
            currentSession.cart.map(element => {
                cart += `<tr class="row">
                    <td> <i class="far fa-times-circle remove"></i></td>
                    <td><img src="${element.img}"></td>
                    <td>${element.productName}</td>
                    <td>${element.options.size}</td>
                    <td class="capitalize">${element.options.color}</td>
                    <td>$${element.price}</td>
                    <td>${element.quantity}</td>
                    <td class="subtotal">$${parseInt(element.price) * parseInt(element.quantity)}</td>
                    </tr>`;

            });
            maincart.innerHTML += cart;

            const x = maincart.querySelectorAll('.far.fa-times-circle.remove');
            x.forEach((btn, index) => {
                btn.addEventListener("click", (e) => {
                    const row = e.target.closest(".row");
                    row.remove();
                    const currentCart = JSON.parse(localStorage.getItem("cart")).cart; // get current Session
                    currentCart.pop(index);
                    localStorage.setItem("cart", JSON.stringify({ cart: currentCart }));
                }
                )
            });
            const subtotal = document.querySelectorAll("td.subtotal");
            const cartSubtotal = document.querySelector(".cart-subtotal");
            const voucher = document.querySelector(".voucher");
            const voucherBtn = document.querySelector(".voucher-btn");
            const ship = document.querySelector(".ship");
            const total = document.querySelector(".total");
            var sum = 0;

            subtotal.forEach((e) => {
                let a = parseInt(e.textContent.replace(/[^0-9]/g, ""));
                sum += a;
            });
            cartSubtotal.innerHTML = '$' + sum;

            const getRandomnum = randomNum(10);
            let totalCost = sum + getRandomnum;
            total.innerHTML = '$' + totalCost;

            voucherBtn.addEventListener("click", () => {
                let reduceFactor = 1;
                switch (voucher.value) {
                    case "SNSD-1991":
                        reduceFactor = 0.9
                        break;
                    case "CMT8-1945":
                        reduceFactor = 0.8;
                        break;
                    case "Cô Lan xinh quá":
                        reduceFactor = 0;
                        break;
                    default:
                        break;
                }
                totalCost = Math.round((sum + getRandomnum) * reduceFactor);
                total.innerHTML = '$' + totalCost + (reduceFactor !== 1 ? ` <span class="reduce">Giảm ${Math.round((1 - reduceFactor) * 100)}%</span>` : "");
            });
            if (getRandomnum == 0) {
                ship.innerHTML = 'Free ship';
            }
            else {
                ship.innerHTML = '$' + getRandomnum;
            }
            function randomNum(num) {
                return Math.floor(Math.random() * num);
            }
        }

    </script>
    <script src="../main/script.js"></script>
    <script src="https://kit.fontawesome.com/966a9482a5.js" crossorigin="anonymous"></script>
    <script src="../main/main-navbar.js"></script>
<script src="../main/signUp.js"></script>

</body>

</html>